[2024-10-08 16:47:11.733]  INFO 20128 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
[2024-10-08 16:47:11.738]  INFO 20128 --- [ionShutdownHook] c.z.h.HikariDataSource                   : HikariPool-1 - Shutdown initiated...
[2024-10-08 16:47:11.741]  INFO 20128 --- [ionShutdownHook] c.z.h.HikariDataSource                   : HikariPool-1 - Shutdown completed.
[2024-10-08 16:47:14.429]  INFO 13268 --- [kground-preinit] o.h.v.i.u.Version                        : HV000001: Hibernate Validator 8.0.1.Final
[2024-10-08 16:47:14.455]  INFO 13268 --- [  restartedMain] c.r.a.AmsApplication                     : Starting AmsApplication using Java 17.0.2 with PID 13268 (D:\Dev_Test\ams\target\classes started by minam in D:\Dev_Test\ams)
[2024-10-08 16:47:14.468]  INFO 13268 --- [  restartedMain] c.r.a.AmsApplication                     : The following 1 profile is active: "dev"
[2024-10-08 16:47:14.506]  INFO 13268 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[2024-10-08 16:47:14.506]  INFO 13268 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
[2024-10-08 16:47:15.165]  INFO 13268 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2024-10-08 16:47:15.173] DEBUG 13268 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Scanning for JPA repositories in packages com.rfiot.ams.
[2024-10-08 16:47:15.181] DEBUG 13268 --- [  restartedMain] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [D:\Dev_Test\ams\target\classes\com\rfiot\ams\book\BookRepository.class]
[2024-10-08 16:47:15.182] DEBUG 13268 --- [  restartedMain] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [D:\Dev_Test\ams\target\classes\com\rfiot\ams\token\TokenRepository.class]
[2024-10-08 16:47:15.182] DEBUG 13268 --- [  restartedMain] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [D:\Dev_Test\ams\target\classes\com\rfiot\ams\user\UserRepository.class]
[2024-10-08 16:47:15.211]  INFO 13268 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 3 JPA repository interfaces.
[2024-10-08 16:47:15.727]  INFO 13268 --- [  restartedMain] o.s.b.w.e.t.TomcatWebServer              : Tomcat initialized with port 8080 (http)
[2024-10-08 16:47:15.736]  INFO 13268 --- [  restartedMain] o.a.c.h.Http11NioProtocol                : Initializing ProtocolHandler ["http-nio-8080"]
[2024-10-08 16:47:15.739]  INFO 13268 --- [  restartedMain] o.a.c.c.StandardService                  : Starting service [Tomcat]
[2024-10-08 16:47:15.739]  INFO 13268 --- [  restartedMain] o.a.c.c.StandardEngine                   : Starting Servlet engine: [Apache Tomcat/10.1.30]
[2024-10-08 16:47:15.778]  INFO 13268 --- [  restartedMain] o.a.c.c.C.[.[.[/]                        : Initializing Spring embedded WebApplicationContext
[2024-10-08 16:47:15.778]  INFO 13268 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1271 ms
[2024-10-08 16:47:15.887]  INFO 13268 --- [  restartedMain] o.h.j.i.u.LogHelper                      : HHH000204: Processing PersistenceUnitInfo [name: default]
[2024-10-08 16:47:15.918]  INFO 13268 --- [  restartedMain] o.h.Version                              : HHH000412: Hibernate ORM core version 6.5.3.Final
[2024-10-08 16:47:15.945]  INFO 13268 --- [  restartedMain] o.h.c.i.RegionFactoryInitiator           : HHH000026: Second-level cache disabled
[2024-10-08 16:47:16.128]  INFO 13268 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
[2024-10-08 16:47:16.148]  INFO 13268 --- [  restartedMain] c.z.h.HikariDataSource                   : HikariPool-1 - Starting...
[2024-10-08 16:47:16.277]  INFO 13268 --- [  restartedMain] c.z.h.p.HikariPool                       : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@76425234
[2024-10-08 16:47:16.278]  INFO 13268 --- [  restartedMain] c.z.h.HikariDataSource                   : HikariPool-1 - Start completed.
[2024-10-08 16:47:16.501]  INFO 13268 --- [  restartedMain] p6spy                                    : #1728373636501 | took 9ms | statement | connection 1| url jdbc:postgresql://localhost:5432/amsdb
select * from information_schema.sequences
select * from information_schema.sequences;
[2024-10-08 16:47:17.072]  INFO 13268 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[2024-10-08 16:47:17.089]  INFO 13268 --- [  restartedMain] p6spy                                    : #1728373637089 | took 1ms | statement | connection 2| url jdbc:postgresql://localhost:5432/amsdb
select * from information_schema.sequences
select * from information_schema.sequences;
[2024-10-08 16:47:17.132]  INFO 13268 --- [  restartedMain] p6spy                                    : #1728373637132 | took 1ms | statement | connection 2| url jdbc:postgresql://localhost:5432/amsdb
select * from "public"."_user" where 1=0
select * from "public"."_user" where 1=0;
[2024-10-08 16:47:17.137]  INFO 13268 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
[2024-10-08 16:47:17.159] DEBUG 13268 --- [  restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
[2024-10-08 16:47:17.167] DEBUG 13268 --- [  restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
[2024-10-08 16:47:17.238] DEBUG 13268 --- [  restartedMain] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.rfiot.ams.user.UserRepository…
[2024-10-08 16:47:17.268] DEBUG 13268 --- [  restartedMain] o.s.d.j.r.q.NamedQuery                   : Looking up named query User.findByEmail
[2024-10-08 16:47:17.270] DEBUG 13268 --- [  restartedMain] o.s.d.j.r.q.NamedQuery                   : Did not find named query User.findByEmail
[2024-10-08 16:47:17.312] DEBUG 13268 --- [  restartedMain] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.rfiot.ams.user.UserRepository.
[2024-10-08 16:47:17.327] DEBUG 13268 --- [  restartedMain] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.rfiot.ams.token.TokenRepository…
[2024-10-08 16:47:17.340]  INFO 13268 --- [  restartedMain] o.s.d.j.r.q.QueryEnhancerFactory         : Hibernate is in classpath; If applicable, HQL parser will be used.
[2024-10-08 16:47:17.450] DEBUG 13268 --- [  restartedMain] o.s.d.j.r.q.NamedQuery                   : Did not find named query Token.findAllValidTokenByUser.count
[2024-10-08 16:47:17.573] DEBUG 13268 --- [  restartedMain] o.s.d.j.r.q.NamedQuery                   : Looking up named query Token.findByToken
[2024-10-08 16:47:17.573] DEBUG 13268 --- [  restartedMain] o.s.d.j.r.q.NamedQuery                   : Did not find named query Token.findByToken
[2024-10-08 16:47:17.576] DEBUG 13268 --- [  restartedMain] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.rfiot.ams.token.TokenRepository.
[2024-10-08 16:47:17.657]  INFO 13268 --- [  restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
[2024-10-08 16:47:17.658]  WARN 13268 --- [  restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
[2024-10-08 16:47:17.670] DEBUG 13268 --- [  restartedMain] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.rfiot.ams.book.BookRepository…
[2024-10-08 16:47:17.675] DEBUG 13268 --- [  restartedMain] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.rfiot.ams.book.BookRepository.
[2024-10-08 16:47:17.766]  WARN 13268 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[2024-10-08 16:47:17.896] DEBUG 13268 --- [  restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
[2024-10-08 16:47:17.967] DEBUG 13268 --- [  restartedMain] o.s.w.s.h.SimpleUrlHandlerMapping        : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
[2024-10-08 16:47:18.004] DEBUG 13268 --- [  restartedMain] o.s.s.w.DefaultSecurityFilterChain       : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
[2024-10-08 16:47:18.096] DEBUG 13268 --- [  restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
[2024-10-08 16:47:18.128] DEBUG 13268 --- [  restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
[2024-10-08 16:47:18.264]  INFO 13268 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
[2024-10-08 16:47:18.280]  INFO 13268 --- [  restartedMain] o.a.c.h.Http11NioProtocol                : Starting ProtocolHandler ["http-nio-8080"]
[2024-10-08 16:47:18.303]  INFO 13268 --- [  restartedMain] o.s.b.w.e.t.TomcatWebServer              : Tomcat started on port 8080 (http) with context path '/'
[2024-10-08 16:47:18.311]  INFO 13268 --- [  restartedMain] c.r.a.AmsApplication                     : Started AmsApplication in 4.185 seconds (process running for 5.362)
[2024-10-08 16:47:18.401]  INFO 13268 --- [  restartedMain] p6spy                                    : [statement] | 0 ms | 
    select
        nextval('_user_seq')
[2024-10-08 16:47:18.421]  INFO 13268 --- [  restartedMain] p6spy                                    : [statement] | 1 ms | 
    insert       
    into
        _user
        (email, firstname, lastname, password, role, id)       
    values
        ('admin@mail.com', 'Admin', 'Admin', '$2a$10$uvYCwLOygfGm5mIHNwHefupcgGQY3jF0ArAB4nCj.xMApE6C1pIkO', 'ADMIN', 502)
[2024-10-08 16:47:18.425]  INFO 13268 --- [  restartedMain] p6spy                                    : [commit] | 2 ms | 
[2024-10-08 16:47:18.489]  INFO 13268 --- [  restartedMain] p6spy                                    : [statement] | 0 ms | 
    select
        nextval('token_seq')
[2024-10-08 16:47:18.492]  INFO 13268 --- [  restartedMain] p6spy                                    : [statement] | 1 ms | 
    insert       
    into
        token
        (expired, revoked, token, token_type, user_id, id)       
    values
        (false, false, 'eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbkBtYWlsLmNvbSIsImlhdCI6MTcyODM3MzYzOCwiZXhwIjoxNzI4NDYwMDM4fQ.rzzOg5gefSYmUOxI1Z8gqcGviQJzbwN_eEG2Kjydxmo', 'BEARER', 502, 502)
[2024-10-08 16:47:18.493]  INFO 13268 --- [  restartedMain] p6spy                                    : [commit] | 0 ms | 
[2024-10-08 16:47:18.564]  INFO 13268 --- [  restartedMain] p6spy                                    : [statement] | 0 ms | 
    insert       
    into
        _user
        (email, firstname, lastname, password, role, id)       
    values
        ('manager@mail.com', 'Admin', 'Admin', '$2a$10$jhGKB5n.HJIJifutLv56RusGumWHsz.Yb0RrZg.xj4lCyUBAIrv4K', 'MANAGER', 503)
[2024-10-08 16:47:18.566]  INFO 13268 --- [  restartedMain] p6spy                                    : [commit] | 1 ms | 
[2024-10-08 16:47:18.569]  INFO 13268 --- [  restartedMain] p6spy                                    : [statement] | 0 ms | 
    insert       
    into
        token
        (expired, revoked, token, token_type, user_id, id)       
    values
        (false, false, 'eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtYW5hZ2VyQG1haWwuY29tIiwiaWF0IjoxNzI4MzczNjM4LCJleHAiOjE3Mjg0NjAwMzh9.hYdv6AlDZdu1ofHfNSa0FFwcnOHSC1JyDuqwqiiVogc', 'BEARER', 503, 503)
[2024-10-08 16:47:18.571]  INFO 13268 --- [  restartedMain] p6spy                                    : [commit] | 0 ms | 
[2024-10-08 16:47:22.316]  INFO 13268 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/]                        : Initializing Spring DispatcherServlet 'dispatcherServlet'
[2024-10-08 16:47:22.317]  INFO 13268 --- [nio-8080-exec-1] o.s.w.s.DispatcherServlet                : Initializing Servlet 'dispatcherServlet'
[2024-10-08 16:47:22.317] DEBUG 13268 --- [nio-8080-exec-1] o.s.w.s.DispatcherServlet                : Detected StandardServletMultipartResolver
[2024-10-08 16:47:22.317] DEBUG 13268 --- [nio-8080-exec-1] o.s.w.s.DispatcherServlet                : Detected AcceptHeaderLocaleResolver
[2024-10-08 16:47:22.317] DEBUG 13268 --- [nio-8080-exec-1] o.s.w.s.DispatcherServlet                : Detected FixedThemeResolver
[2024-10-08 16:47:22.318] DEBUG 13268 --- [nio-8080-exec-1] o.s.w.s.DispatcherServlet                : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2522da8
[2024-10-08 16:47:22.318] DEBUG 13268 --- [nio-8080-exec-1] o.s.w.s.DispatcherServlet                : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6e10d621
[2024-10-08 16:47:22.318] DEBUG 13268 --- [nio-8080-exec-1] o.s.w.s.DispatcherServlet                : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
[2024-10-08 16:47:22.319]  INFO 13268 --- [nio-8080-exec-1] o.s.w.s.DispatcherServlet                : Completed initialization in 2 ms
[2024-10-08 16:47:22.331] DEBUG 13268 --- [nio-8080-exec-1] o.s.s.w.FilterChainProxy                 : Securing GET /swagger-ui/swagger-initializer.js
[2024-10-08 16:47:22.338] DEBUG 13268 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
[2024-10-08 16:47:22.338] DEBUG 13268 --- [nio-8080-exec-1] o.s.s.w.s.SessionManagementFilter        : Request requested invalid session id 068031DFF4F3F997DB6FF0F412FB7E99
[2024-10-08 16:47:22.340] DEBUG 13268 --- [nio-8080-exec-1] o.s.s.w.FilterChainProxy                 : Secured GET /swagger-ui/swagger-initializer.js
[2024-10-08 16:47:22.342] DEBUG 13268 --- [nio-8080-exec-1] o.s.w.s.DispatcherServlet                : GET "/swagger-ui/swagger-initializer.js", parameters={}
[2024-10-08 16:47:22.344] DEBUG 13268 --- [nio-8080-exec-1] o.s.w.s.h.SimpleUrlHandlerMapping        : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
[2024-10-08 16:47:22.375] DEBUG 13268 --- [nio-8080-exec-1] o.s.w.s.DispatcherServlet                : Completed 200 OK
[2024-10-08 16:47:22.395] DEBUG 13268 --- [nio-8080-exec-7] o.s.s.w.FilterChainProxy                 : Securing GET /v3/api-docs/swagger-config
[2024-10-08 16:47:22.395] DEBUG 13268 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
[2024-10-08 16:47:22.396] DEBUG 13268 --- [nio-8080-exec-7] o.s.s.w.s.SessionManagementFilter        : Request requested invalid session id 068031DFF4F3F997DB6FF0F412FB7E99
[2024-10-08 16:47:22.396] DEBUG 13268 --- [nio-8080-exec-7] o.s.s.w.FilterChainProxy                 : Secured GET /v3/api-docs/swagger-config
[2024-10-08 16:47:22.396] DEBUG 13268 --- [nio-8080-exec-7] o.s.w.s.DispatcherServlet                : GET "/v3/api-docs/swagger-config", parameters={}
[2024-10-08 16:47:22.397] DEBUG 13268 --- [nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
[2024-10-08 16:47:22.413] DEBUG 13268 --- [nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json]
[2024-10-08 16:47:22.414] DEBUG 13268 --- [nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/oauth2-re (truncated)...]
[2024-10-08 16:47:22.418] DEBUG 13268 --- [nio-8080-exec-7] o.s.w.s.DispatcherServlet                : Completed 200 OK
[2024-10-08 16:47:22.425] DEBUG 13268 --- [nio-8080-exec-8] o.s.s.w.FilterChainProxy                 : Securing GET /v3/api-docs
[2024-10-08 16:47:22.425] DEBUG 13268 --- [nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
[2024-10-08 16:47:22.426] DEBUG 13268 --- [nio-8080-exec-8] o.s.s.w.s.SessionManagementFilter        : Request requested invalid session id 068031DFF4F3F997DB6FF0F412FB7E99
[2024-10-08 16:47:22.426] DEBUG 13268 --- [nio-8080-exec-8] o.s.s.w.FilterChainProxy                 : Secured GET /v3/api-docs
[2024-10-08 16:47:22.426] DEBUG 13268 --- [nio-8080-exec-8] o.s.w.s.DispatcherServlet                : GET "/v3/api-docs", parameters={}
[2024-10-08 16:47:22.426] DEBUG 13268 --- [nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
[2024-10-08 16:47:22.700]  INFO 13268 --- [nio-8080-exec-8] o.s.a.AbstractOpenApiResource            : Init duration for springdoc-openapi is: 262 ms
[2024-10-08 16:47:22.720] DEBUG 13268 --- [nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, */*] and supported [application/json]
[2024-10-08 16:47:22.721] DEBUG 13268 --- [nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
[2024-10-08 16:47:22.721] DEBUG 13268 --- [nio-8080-exec-8] o.s.w.s.DispatcherServlet                : Completed 200 OK
[2024-10-08 16:47:43.574]  INFO 13268 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
[2024-10-08 16:47:43.576]  INFO 13268 --- [ionShutdownHook] c.z.h.HikariDataSource                   : HikariPool-1 - Shutdown initiated...
[2024-10-08 16:47:43.578]  INFO 13268 --- [ionShutdownHook] c.z.h.HikariDataSource                   : HikariPool-1 - Shutdown completed.
[2024-10-08 16:47:45.888]  INFO 19276 --- [kground-preinit] o.h.v.i.u.Version                        : HV000001: Hibernate Validator 8.0.1.Final
[2024-10-08 16:47:45.913]  INFO 19276 --- [  restartedMain] c.r.a.AmsApplication                     : Starting AmsApplication using Java 17.0.2 with PID 19276 (D:\Dev_Test\ams\target\classes started by minam in D:\Dev_Test\ams)
[2024-10-08 16:47:45.917]  INFO 19276 --- [  restartedMain] c.r.a.AmsApplication                     : The following 1 profile is active: "dev"
[2024-10-08 16:47:45.951]  INFO 19276 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[2024-10-08 16:47:45.952]  INFO 19276 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
[2024-10-08 16:47:46.593]  INFO 19276 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2024-10-08 16:47:46.600] DEBUG 19276 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Scanning for JPA repositories in packages com.rfiot.ams.
[2024-10-08 16:47:46.608] DEBUG 19276 --- [  restartedMain] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [D:\Dev_Test\ams\target\classes\com\rfiot\ams\book\BookRepository.class]
[2024-10-08 16:47:46.610] DEBUG 19276 --- [  restartedMain] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [D:\Dev_Test\ams\target\classes\com\rfiot\ams\token\TokenRepository.class]
[2024-10-08 16:47:46.610] DEBUG 19276 --- [  restartedMain] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [D:\Dev_Test\ams\target\classes\com\rfiot\ams\user\UserRepository.class]
[2024-10-08 16:47:46.638]  INFO 19276 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 3 JPA repository interfaces.
[2024-10-08 16:47:47.169]  INFO 19276 --- [  restartedMain] o.s.b.w.e.t.TomcatWebServer              : Tomcat initialized with port 8080 (http)
[2024-10-08 16:47:47.179]  INFO 19276 --- [  restartedMain] o.a.c.h.Http11NioProtocol                : Initializing ProtocolHandler ["http-nio-8080"]
[2024-10-08 16:47:47.181]  INFO 19276 --- [  restartedMain] o.a.c.c.StandardService                  : Starting service [Tomcat]
[2024-10-08 16:47:47.182]  INFO 19276 --- [  restartedMain] o.a.c.c.StandardEngine                   : Starting Servlet engine: [Apache Tomcat/10.1.30]
[2024-10-08 16:47:47.226]  INFO 19276 --- [  restartedMain] o.a.c.c.C.[.[.[/]                        : Initializing Spring embedded WebApplicationContext
[2024-10-08 16:47:47.226]  INFO 19276 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1274 ms
[2024-10-08 16:47:47.338]  INFO 19276 --- [  restartedMain] o.h.j.i.u.LogHelper                      : HHH000204: Processing PersistenceUnitInfo [name: default]
[2024-10-08 16:47:47.368]  INFO 19276 --- [  restartedMain] o.h.Version                              : HHH000412: Hibernate ORM core version 6.5.3.Final
[2024-10-08 16:47:47.398]  INFO 19276 --- [  restartedMain] o.h.c.i.RegionFactoryInitiator           : HHH000026: Second-level cache disabled
[2024-10-08 16:47:47.600]  INFO 19276 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
[2024-10-08 16:47:47.621]  INFO 19276 --- [  restartedMain] c.z.h.HikariDataSource                   : HikariPool-1 - Starting...
[2024-10-08 16:47:47.752]  INFO 19276 --- [  restartedMain] c.z.h.p.HikariPool                       : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6f684e6c
[2024-10-08 16:47:47.753]  INFO 19276 --- [  restartedMain] c.z.h.HikariDataSource                   : HikariPool-1 - Start completed.
[2024-10-08 16:47:47.963]  INFO 19276 --- [  restartedMain] p6spy                                    : #1728373667963 | took 7ms | statement | connection 1| url jdbc:postgresql://localhost:5432/amsdb
select * from information_schema.sequences
select * from information_schema.sequences;
[2024-10-08 16:47:48.500]  INFO 19276 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[2024-10-08 16:47:48.514]  INFO 19276 --- [  restartedMain] p6spy                                    : #1728373668514 | took 1ms | statement | connection 2| url jdbc:postgresql://localhost:5432/amsdb
select * from information_schema.sequences
select * from information_schema.sequences;
[2024-10-08 16:47:48.558]  INFO 19276 --- [  restartedMain] p6spy                                    : #1728373668558 | took 1ms | statement | connection 2| url jdbc:postgresql://localhost:5432/amsdb
select * from "public"."_user" where 1=0
select * from "public"."_user" where 1=0;
[2024-10-08 16:47:48.563]  INFO 19276 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
[2024-10-08 16:47:48.585] DEBUG 19276 --- [  restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
[2024-10-08 16:47:48.592] DEBUG 19276 --- [  restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
[2024-10-08 16:47:48.665] DEBUG 19276 --- [  restartedMain] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.rfiot.ams.user.UserRepository…
[2024-10-08 16:47:48.699] DEBUG 19276 --- [  restartedMain] o.s.d.j.r.q.NamedQuery                   : Looking up named query User.findByEmail
[2024-10-08 16:47:48.701] DEBUG 19276 --- [  restartedMain] o.s.d.j.r.q.NamedQuery                   : Did not find named query User.findByEmail
[2024-10-08 16:47:48.741] DEBUG 19276 --- [  restartedMain] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.rfiot.ams.user.UserRepository.
[2024-10-08 16:47:48.755] DEBUG 19276 --- [  restartedMain] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.rfiot.ams.token.TokenRepository…
[2024-10-08 16:47:48.769]  INFO 19276 --- [  restartedMain] o.s.d.j.r.q.QueryEnhancerFactory         : Hibernate is in classpath; If applicable, HQL parser will be used.
[2024-10-08 16:47:48.878] DEBUG 19276 --- [  restartedMain] o.s.d.j.r.q.NamedQuery                   : Did not find named query Token.findAllValidTokenByUser.count
[2024-10-08 16:47:49.002] DEBUG 19276 --- [  restartedMain] o.s.d.j.r.q.NamedQuery                   : Looking up named query Token.findByToken
[2024-10-08 16:47:49.002] DEBUG 19276 --- [  restartedMain] o.s.d.j.r.q.NamedQuery                   : Did not find named query Token.findByToken
[2024-10-08 16:47:49.005] DEBUG 19276 --- [  restartedMain] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.rfiot.ams.token.TokenRepository.
[2024-10-08 16:47:49.082]  INFO 19276 --- [  restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
[2024-10-08 16:47:49.082]  WARN 19276 --- [  restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
[2024-10-08 16:47:49.096] DEBUG 19276 --- [  restartedMain] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.rfiot.ams.book.BookRepository…
[2024-10-08 16:47:49.101] DEBUG 19276 --- [  restartedMain] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.rfiot.ams.book.BookRepository.
[2024-10-08 16:47:49.192]  WARN 19276 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
[2024-10-08 16:47:49.320] DEBUG 19276 --- [  restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
[2024-10-08 16:47:49.393] DEBUG 19276 --- [  restartedMain] o.s.w.s.h.SimpleUrlHandlerMapping        : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
[2024-10-08 16:47:49.425] DEBUG 19276 --- [  restartedMain] o.s.s.w.DefaultSecurityFilterChain       : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
[2024-10-08 16:47:49.514] DEBUG 19276 --- [  restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
[2024-10-08 16:47:49.543] DEBUG 19276 --- [  restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
[2024-10-08 16:47:49.674]  INFO 19276 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
[2024-10-08 16:47:49.690]  INFO 19276 --- [  restartedMain] o.a.c.h.Http11NioProtocol                : Starting ProtocolHandler ["http-nio-8080"]
[2024-10-08 16:47:49.704]  INFO 19276 --- [  restartedMain] o.s.b.w.e.t.TomcatWebServer              : Tomcat started on port 8080 (http) with context path '/'
[2024-10-08 16:47:49.712]  INFO 19276 --- [  restartedMain] c.r.a.AmsApplication                     : Started AmsApplication in 4.098 seconds (process running for 4.851)
[2024-10-08 16:47:49.805]  INFO 19276 --- [  restartedMain] p6spy                                    : [statement] | 1 ms | 
    select
        nextval('_user_seq')
[2024-10-08 16:47:49.828]  INFO 19276 --- [  restartedMain] p6spy                                    : [statement] | 1 ms | 
    insert       
    into
        _user
        (email, firstname, lastname, password, role, id)       
    values
        ('admin@mail.com', 'Admin', 'Admin', '$2a$10$uclCqhSrrvfqt400x/SqtO7.Lqtz1qQPBvezpyzsBc5b4gjX6aN1W', 'ADMIN', 552)
[2024-10-08 16:47:49.840]  INFO 19276 --- [  restartedMain] p6spy                                    : [commit] | 10 ms | 
[2024-10-08 16:47:49.915]  INFO 19276 --- [  restartedMain] p6spy                                    : [statement] | 0 ms | 
    select
        nextval('token_seq')
[2024-10-08 16:47:49.918]  INFO 19276 --- [  restartedMain] p6spy                                    : [statement] | 1 ms | 
    insert       
    into
        token
        (expired, revoked, token, token_type, user_id, id)       
    values
        (false, false, 'eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbkBtYWlsLmNvbSIsImlhdCI6MTcyODM3MzY2OSwiZXhwIjoxNzI4NDYwMDY5fQ.AEEa7hkJCai2QpcNKqNyPmRnofTpu2dWq0Kp0YfijmU', 'BEARER', 552, 552)
[2024-10-08 16:47:49.921]  INFO 19276 --- [  restartedMain] p6spy                                    : [commit] | 1 ms | 
[2024-10-08 16:47:49.990]  INFO 19276 --- [  restartedMain] p6spy                                    : [statement] | 0 ms | 
    insert       
    into
        _user
        (email, firstname, lastname, password, role, id)       
    values
        ('manager@mail.com', 'Admin', 'Admin', '$2a$10$zkm.HLWQ/IImBhw3nTEX6.P95B.nrd3MSCdJ9klQL9iTDzegY.EoG', 'MANAGER', 553)
[2024-10-08 16:47:49.992]  INFO 19276 --- [  restartedMain] p6spy                                    : [commit] | 1 ms | 
[2024-10-08 16:47:49.995]  INFO 19276 --- [  restartedMain] p6spy                                    : [statement] | 0 ms | 
    insert       
    into
        token
        (expired, revoked, token, token_type, user_id, id)       
    values
        (false, false, 'eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtYW5hZ2VyQG1haWwuY29tIiwiaWF0IjoxNzI4MzczNjY5LCJleHAiOjE3Mjg0NjAwNjl9.SnczU7om-zGaLP0LmpBxVTBJ1DZR674B_rLQ9P516Ho', 'BEARER', 553, 553)
[2024-10-08 16:47:49.996]  INFO 19276 --- [  restartedMain] p6spy                                    : [commit] | 0 ms | 
[2024-10-08 16:47:52.452]  INFO 19276 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/]                        : Initializing Spring DispatcherServlet 'dispatcherServlet'
[2024-10-08 16:47:52.453]  INFO 19276 --- [nio-8080-exec-1] o.s.w.s.DispatcherServlet                : Initializing Servlet 'dispatcherServlet'
[2024-10-08 16:47:52.453] DEBUG 19276 --- [nio-8080-exec-1] o.s.w.s.DispatcherServlet                : Detected StandardServletMultipartResolver
[2024-10-08 16:47:52.453] DEBUG 19276 --- [nio-8080-exec-1] o.s.w.s.DispatcherServlet                : Detected AcceptHeaderLocaleResolver
[2024-10-08 16:47:52.453] DEBUG 19276 --- [nio-8080-exec-1] o.s.w.s.DispatcherServlet                : Detected FixedThemeResolver
[2024-10-08 16:47:52.454] DEBUG 19276 --- [nio-8080-exec-1] o.s.w.s.DispatcherServlet                : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@eaa9389
[2024-10-08 16:47:52.454] DEBUG 19276 --- [nio-8080-exec-1] o.s.w.s.DispatcherServlet                : Detected org.springframework.web.servlet.support.SessionFlashMapManager@73af6c10
[2024-10-08 16:47:52.454] DEBUG 19276 --- [nio-8080-exec-1] o.s.w.s.DispatcherServlet                : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
[2024-10-08 16:47:52.454]  INFO 19276 --- [nio-8080-exec-1] o.s.w.s.DispatcherServlet                : Completed initialization in 1 ms
[2024-10-08 16:47:52.466] DEBUG 19276 --- [nio-8080-exec-1] o.s.s.w.FilterChainProxy                 : Securing GET /swagger-ui/swagger-initializer.js
[2024-10-08 16:47:52.471] DEBUG 19276 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
[2024-10-08 16:47:52.472] DEBUG 19276 --- [nio-8080-exec-1] o.s.s.w.s.SessionManagementFilter        : Request requested invalid session id 068031DFF4F3F997DB6FF0F412FB7E99
[2024-10-08 16:47:52.473] DEBUG 19276 --- [nio-8080-exec-1] o.s.s.w.FilterChainProxy                 : Secured GET /swagger-ui/swagger-initializer.js
[2024-10-08 16:47:52.475] DEBUG 19276 --- [nio-8080-exec-1] o.s.w.s.DispatcherServlet                : GET "/swagger-ui/swagger-initializer.js", parameters={}
[2024-10-08 16:47:52.478] DEBUG 19276 --- [nio-8080-exec-1] o.s.w.s.h.SimpleUrlHandlerMapping        : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
[2024-10-08 16:47:52.508] DEBUG 19276 --- [nio-8080-exec-1] o.s.w.s.DispatcherServlet                : Completed 200 OK
[2024-10-08 16:47:52.521] DEBUG 19276 --- [nio-8080-exec-4] o.s.s.w.FilterChainProxy                 : Securing GET /v3/api-docs/swagger-config
[2024-10-08 16:47:52.521] DEBUG 19276 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
[2024-10-08 16:47:52.522] DEBUG 19276 --- [nio-8080-exec-4] o.s.s.w.s.SessionManagementFilter        : Request requested invalid session id 068031DFF4F3F997DB6FF0F412FB7E99
[2024-10-08 16:47:52.522] DEBUG 19276 --- [nio-8080-exec-4] o.s.s.w.FilterChainProxy                 : Secured GET /v3/api-docs/swagger-config
[2024-10-08 16:47:52.522] DEBUG 19276 --- [nio-8080-exec-4] o.s.w.s.DispatcherServlet                : GET "/v3/api-docs/swagger-config", parameters={}
[2024-10-08 16:47:52.522] DEBUG 19276 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
[2024-10-08 16:47:52.535] DEBUG 19276 --- [nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json]
[2024-10-08 16:47:52.537] DEBUG 19276 --- [nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/oauth2-re (truncated)...]
[2024-10-08 16:47:52.540] DEBUG 19276 --- [nio-8080-exec-4] o.s.w.s.DispatcherServlet                : Completed 200 OK
[2024-10-08 16:47:52.545] DEBUG 19276 --- [nio-8080-exec-7] o.s.s.w.FilterChainProxy                 : Securing GET /v3/api-docs
[2024-10-08 16:47:52.545] DEBUG 19276 --- [nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
[2024-10-08 16:47:52.545] DEBUG 19276 --- [nio-8080-exec-7] o.s.s.w.s.SessionManagementFilter        : Request requested invalid session id 068031DFF4F3F997DB6FF0F412FB7E99
[2024-10-08 16:47:52.546] DEBUG 19276 --- [nio-8080-exec-7] o.s.s.w.FilterChainProxy                 : Secured GET /v3/api-docs
[2024-10-08 16:47:52.546] DEBUG 19276 --- [nio-8080-exec-7] o.s.w.s.DispatcherServlet                : GET "/v3/api-docs", parameters={}
[2024-10-08 16:47:52.546] DEBUG 19276 --- [nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
[2024-10-08 16:47:52.782]  INFO 19276 --- [nio-8080-exec-7] o.s.a.AbstractOpenApiResource            : Init duration for springdoc-openapi is: 226 ms
[2024-10-08 16:47:52.802] DEBUG 19276 --- [nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, */*] and supported [application/json]
[2024-10-08 16:47:52.802] DEBUG 19276 --- [nio-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 48, 46, 49, 34, 44, 34, 105, 110, 10 (truncated)...]
[2024-10-08 16:47:52.803] DEBUG 19276 --- [nio-8080-exec-7] o.s.w.s.DispatcherServlet                : Completed 200 OK
