[2024-10-08 16:38:10.020]  INFO 16376 --- [kground-preinit] o.h.v.i.u.Version                        : HV000001: Hibernate Validator 8.0.1.Final
[2024-10-08 16:38:10.045]  INFO 16376 --- [  restartedMain] c.r.a.AmsApplication                     : Starting AmsApplication using Java 17.0.2 with PID 16376 (D:\Dev_Test\ams\target\classes started by minam in D:\Dev_Test\ams)
[2024-10-08 16:38:10.048]  INFO 16376 --- [  restartedMain] c.r.a.AmsApplication                     : The following 1 profile is active: "dev"
[2024-10-08 16:38:10.084]  INFO 16376 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
[2024-10-08 16:38:10.085]  INFO 16376 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
[2024-10-08 16:38:10.756]  INFO 16376 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2024-10-08 16:38:10.764] DEBUG 16376 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Scanning for JPA repositories in packages com.rfiot.ams.
[2024-10-08 16:38:10.771] DEBUG 16376 --- [  restartedMain] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [D:\Dev_Test\ams\target\classes\com\rfiot\ams\book\BookRepository.class]
[2024-10-08 16:38:10.773] DEBUG 16376 --- [  restartedMain] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [D:\Dev_Test\ams\target\classes\com\rfiot\ams\token\TokenRepository.class]
[2024-10-08 16:38:10.773] DEBUG 16376 --- [  restartedMain] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [D:\Dev_Test\ams\target\classes\com\rfiot\ams\user\UserRepository.class]
[2024-10-08 16:38:10.799]  INFO 16376 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 3 JPA repository interfaces.
[2024-10-08 16:38:11.311]  INFO 16376 --- [  restartedMain] o.s.b.w.e.t.TomcatWebServer              : Tomcat initialized with port 9090 (http)
[2024-10-08 16:38:11.320]  INFO 16376 --- [  restartedMain] o.a.c.h.Http11NioProtocol                : Initializing ProtocolHandler ["http-nio-9090"]
[2024-10-08 16:38:11.323]  INFO 16376 --- [  restartedMain] o.a.c.c.StandardService                  : Starting service [Tomcat]
[2024-10-08 16:38:11.323]  INFO 16376 --- [  restartedMain] o.a.c.c.StandardEngine                   : Starting Servlet engine: [Apache Tomcat/10.1.30]
[2024-10-08 16:38:11.369]  INFO 16376 --- [  restartedMain] o.a.c.c.C.[.[.[/]                        : Initializing Spring embedded WebApplicationContext
[2024-10-08 16:38:11.369]  INFO 16376 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1274 ms
[2024-10-08 16:38:11.481]  INFO 16376 --- [  restartedMain] o.h.j.i.u.LogHelper                      : HHH000204: Processing PersistenceUnitInfo [name: default]
[2024-10-08 16:38:11.519]  INFO 16376 --- [  restartedMain] o.h.Version                              : HHH000412: Hibernate ORM core version 6.5.3.Final
[2024-10-08 16:38:11.548]  INFO 16376 --- [  restartedMain] o.h.c.i.RegionFactoryInitiator           : HHH000026: Second-level cache disabled
[2024-10-08 16:38:11.725]  INFO 16376 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
[2024-10-08 16:38:11.749]  INFO 16376 --- [  restartedMain] c.z.h.HikariDataSource                   : HikariPool-1 - Starting...
[2024-10-08 16:38:11.864]  INFO 16376 --- [  restartedMain] c.z.h.p.HikariPool                       : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3819b853
[2024-10-08 16:38:11.865]  INFO 16376 --- [  restartedMain] c.z.h.HikariDataSource                   : HikariPool-1 - Start completed.
[2024-10-08 16:38:12.079]  INFO 16376 --- [  restartedMain] p6spy                                    : #1728373092079 | took 8ms | statement | connection 1| url jdbc:postgresql://localhost:5432/amsdb
select * from information_schema.sequences
select * from information_schema.sequences;
[2024-10-08 16:38:12.628]  INFO 16376 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[2024-10-08 16:38:12.644]  INFO 16376 --- [  restartedMain] p6spy                                    : #1728373092644 | took 0ms | statement | connection 2| url jdbc:postgresql://localhost:5432/amsdb
select * from information_schema.sequences
select * from information_schema.sequences;
[2024-10-08 16:38:12.703]  INFO 16376 --- [  restartedMain] p6spy                                    : #1728373092703 | took 1ms | statement | connection 2| url jdbc:postgresql://localhost:5432/amsdb
select * from "public"."_user" where 1=0
select * from "public"."_user" where 1=0;
[2024-10-08 16:38:12.709]  INFO 16376 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
[2024-10-08 16:38:12.732] DEBUG 16376 --- [  restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
[2024-10-08 16:38:12.740] DEBUG 16376 --- [  restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
[2024-10-08 16:38:12.810] DEBUG 16376 --- [  restartedMain] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.rfiot.ams.user.UserRepository…
[2024-10-08 16:38:12.843] DEBUG 16376 --- [  restartedMain] o.s.d.j.r.q.NamedQuery                   : Looking up named query User.findByEmail
[2024-10-08 16:38:12.845] DEBUG 16376 --- [  restartedMain] o.s.d.j.r.q.NamedQuery                   : Did not find named query User.findByEmail
[2024-10-08 16:38:12.889] DEBUG 16376 --- [  restartedMain] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.rfiot.ams.user.UserRepository.
[2024-10-08 16:38:12.904] DEBUG 16376 --- [  restartedMain] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.rfiot.ams.token.TokenRepository…
[2024-10-08 16:38:12.918]  INFO 16376 --- [  restartedMain] o.s.d.j.r.q.QueryEnhancerFactory         : Hibernate is in classpath; If applicable, HQL parser will be used.
[2024-10-08 16:38:13.022] DEBUG 16376 --- [  restartedMain] o.s.d.j.r.q.NamedQuery                   : Did not find named query Token.findAllValidTokenByUser.count
[2024-10-08 16:38:13.143] DEBUG 16376 --- [  restartedMain] o.s.d.j.r.q.NamedQuery                   : Looking up named query Token.findByToken
[2024-10-08 16:38:13.143] DEBUG 16376 --- [  restartedMain] o.s.d.j.r.q.NamedQuery                   : Did not find named query Token.findByToken
[2024-10-08 16:38:13.146] DEBUG 16376 --- [  restartedMain] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.rfiot.ams.token.TokenRepository.
[2024-10-08 16:38:13.229]  INFO 16376 --- [  restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
[2024-10-08 16:38:13.230]  WARN 16376 --- [  restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
[2024-10-08 16:38:13.245] DEBUG 16376 --- [  restartedMain] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.rfiot.ams.book.BookRepository…
[2024-10-08 16:38:13.249] DEBUG 16376 --- [  restartedMain] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.rfiot.ams.book.BookRepository.
[2024-10-08 16:38:13.423] DEBUG 16376 --- [  restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 19 mappings in 'requestMappingHandlerMapping'
[2024-10-08 16:38:13.494] DEBUG 16376 --- [  restartedMain] o.s.w.s.h.SimpleUrlHandlerMapping        : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
[2024-10-08 16:38:13.529] DEBUG 16376 --- [  restartedMain] o.s.s.w.DefaultSecurityFilterChain       : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
[2024-10-08 16:38:13.623] DEBUG 16376 --- [  restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
[2024-10-08 16:38:13.653] DEBUG 16376 --- [  restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
[2024-10-08 16:38:13.815]  INFO 16376 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
[2024-10-08 16:38:13.833]  INFO 16376 --- [  restartedMain] o.a.c.h.Http11NioProtocol                : Starting ProtocolHandler ["http-nio-9090"]
[2024-10-08 16:38:13.849]  INFO 16376 --- [  restartedMain] o.s.b.w.e.t.TomcatWebServer              : Tomcat started on port 9090 (http) with context path '/'
[2024-10-08 16:38:13.857]  INFO 16376 --- [  restartedMain] c.r.a.AmsApplication                     : Started AmsApplication in 4.145 seconds (process running for 4.821)
[2024-10-08 16:38:13.948]  INFO 16376 --- [  restartedMain] p6spy                                    : [statement] | 1 ms | 
    select
        nextval('_user_seq')
[2024-10-08 16:38:13.972]  INFO 16376 --- [  restartedMain] p6spy                                    : [statement] | 2 ms | 
    insert       
    into
        _user
        (email, firstname, lastname, password, role, id)       
    values
        ('admin@mail.com', 'Admin', 'Admin', '$2a$10$UKPfla0LoJVaPMU6PpTPSub7JNG.LM5quW1.tkePukllhMJtrL7SS', 'ADMIN', 1)
[2024-10-08 16:38:13.975]  INFO 16376 --- [  restartedMain] p6spy                                    : [commit] | 1 ms | 
[2024-10-08 16:38:14.050]  INFO 16376 --- [  restartedMain] p6spy                                    : [statement] | 0 ms | 
    select
        nextval('token_seq')
[2024-10-08 16:38:14.053]  INFO 16376 --- [  restartedMain] p6spy                                    : [statement] | 2 ms | 
    insert       
    into
        token
        (expired, revoked, token, token_type, user_id, id)       
    values
        (false, false, 'eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbkBtYWlsLmNvbSIsImlhdCI6MTcyODM3MzA5NCwiZXhwIjoxNzI4NDU5NDk0fQ.eHNHdvRvaHndMIaS7FNG4Gtz01VcB5QsFYaCe6TYK1c', 'BEARER', 1, 1)
[2024-10-08 16:38:14.053]  INFO 16376 --- [  restartedMain] p6spy                                    : [commit] | 0 ms | 
[2024-10-08 16:38:14.124]  INFO 16376 --- [  restartedMain] p6spy                                    : [statement] | 0 ms | 
    select
        nextval('_user_seq')
[2024-10-08 16:38:14.125]  INFO 16376 --- [  restartedMain] p6spy                                    : [statement] | 0 ms | 
    insert       
    into
        _user
        (email, firstname, lastname, password, role, id)       
    values
        ('manager@mail.com', 'Admin', 'Admin', '$2a$10$.ZzhJ8xsCu/a3eAB6vN5Ru2JG1N2gUEz4SVaFqybG3EElrHv4yJBG', 'MANAGER', 2)
[2024-10-08 16:38:14.127]  INFO 16376 --- [  restartedMain] p6spy                                    : [commit] | 1 ms | 
[2024-10-08 16:38:14.131]  INFO 16376 --- [  restartedMain] p6spy                                    : [statement] | 0 ms | 
    select
        nextval('token_seq')
[2024-10-08 16:38:14.133]  INFO 16376 --- [  restartedMain] p6spy                                    : [statement] | 1 ms | 
    insert       
    into
        token
        (expired, revoked, token, token_type, user_id, id)       
    values
        (false, false, 'eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtYW5hZ2VyQG1haWwuY29tIiwiaWF0IjoxNzI4MzczMDk0LCJleHAiOjE3Mjg0NTk0OTR9.LSU1owXA9AADrmTKXPcIoDBgRqBwfoQa4-5B8RK1o2U', 'BEARER', 2, 2)
[2024-10-08 16:38:14.135]  INFO 16376 --- [  restartedMain] p6spy                                    : [commit] | 0 ms | 
[2024-10-08 16:38:40.689]  INFO 16376 --- [   File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 50 class path changes (0 additions, 47 deletions, 3 modifications)
[2024-10-08 16:38:40.694]  INFO 16376 --- [       Thread-5] o.a.c.h.Http11NioProtocol                : Stopping ProtocolHandler ["http-nio-9090"]
[2024-10-08 16:38:40.826]  INFO 16376 --- [       Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
[2024-10-08 16:38:40.829]  INFO 16376 --- [       Thread-5] c.z.h.HikariDataSource                   : HikariPool-1 - Shutdown initiated...
[2024-10-08 16:38:40.831]  INFO 16376 --- [       Thread-5] c.z.h.HikariDataSource                   : HikariPool-1 - Shutdown completed.
[2024-10-08 16:38:40.958]  INFO 16376 --- [  restartedMain] c.r.a.AmsApplication                     : Starting AmsApplication using Java 17.0.2 with PID 16376 (D:\Dev_Test\ams\target\classes started by minam in D:\Dev_Test\ams)
[2024-10-08 16:38:40.959]  INFO 16376 --- [  restartedMain] c.r.a.AmsApplication                     : The following 1 profile is active: "dev"
[2024-10-08 16:38:41.142]  INFO 16376 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2024-10-08 16:38:41.143] DEBUG 16376 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Scanning for JPA repositories in packages com.rfiot.ams.
[2024-10-08 16:38:41.144]  INFO 16376 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 0 ms. Found 0 JPA repository interfaces.
[2024-10-08 16:38:41.255]  INFO 16376 --- [  restartedMain] o.s.b.w.e.t.TomcatWebServer              : Tomcat initialized with port 9090 (http)
[2024-10-08 16:38:41.256]  INFO 16376 --- [  restartedMain] o.a.c.h.Http11NioProtocol                : Initializing ProtocolHandler ["http-nio-9090"]
[2024-10-08 16:38:41.256]  INFO 16376 --- [  restartedMain] o.a.c.c.StandardService                  : Starting service [Tomcat]
[2024-10-08 16:38:41.257]  INFO 16376 --- [  restartedMain] o.a.c.c.StandardEngine                   : Starting Servlet engine: [Apache Tomcat/10.1.30]
[2024-10-08 16:38:41.271]  INFO 16376 --- [  restartedMain] o.a.c.c.C.[.[.[/]                        : Initializing Spring embedded WebApplicationContext
[2024-10-08 16:38:41.272]  INFO 16376 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 311 ms
[2024-10-08 16:38:41.310]  INFO 16376 --- [  restartedMain] o.h.j.i.u.LogHelper                      : HHH000204: Processing PersistenceUnitInfo [name: default]
[2024-10-08 16:38:41.312]  INFO 16376 --- [  restartedMain] o.h.c.i.RegionFactoryInitiator           : HHH000026: Second-level cache disabled
[2024-10-08 16:38:41.321]  INFO 16376 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
[2024-10-08 16:38:41.322]  INFO 16376 --- [  restartedMain] c.z.h.HikariDataSource                   : HikariPool-2 - Starting...
[2024-10-08 16:38:41.372]  INFO 16376 --- [  restartedMain] c.z.h.p.HikariPool                       : HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@37036ae2
[2024-10-08 16:38:41.372]  INFO 16376 --- [  restartedMain] c.z.h.HikariDataSource                   : HikariPool-2 - Start completed.
[2024-10-08 16:38:41.396]  INFO 16376 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[2024-10-08 16:38:41.396]  INFO 16376 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
[2024-10-08 16:38:41.400]  WARN 16376 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'commandLineRunner' defined in com.rfiot.ams.AmsApplication: Unsatisfied dependency expressed through method 'commandLineRunner' parameter 0: No qualifying bean of type 'com.rfiot.ams.auth.AuthenticationService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
[2024-10-08 16:38:41.400]  INFO 16376 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
[2024-10-08 16:38:41.401]  INFO 16376 --- [  restartedMain] c.z.h.HikariDataSource                   : HikariPool-2 - Shutdown initiated...
[2024-10-08 16:38:41.402]  INFO 16376 --- [  restartedMain] c.z.h.HikariDataSource                   : HikariPool-2 - Shutdown completed.
[2024-10-08 16:38:41.403]  INFO 16376 --- [  restartedMain] o.a.c.c.StandardService                  : Stopping service [Tomcat]
[2024-10-08 16:38:41.408]  INFO 16376 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
[2024-10-08 16:38:41.424] ERROR 16376 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of method commandLineRunner in com.rfiot.ams.AmsApplication required a bean of type 'com.rfiot.ams.auth.AuthenticationService' that could not be found.


Action:

Consider defining a bean of type 'com.rfiot.ams.auth.AuthenticationService' in your configuration.

[2024-10-08 16:38:43.915]  INFO 16376 --- [  restartedMain] c.r.a.AmsApplication                     : Starting AmsApplication using Java 17.0.2 with PID 16376 (D:\Dev_Test\ams\target\classes started by minam in D:\Dev_Test\ams)
[2024-10-08 16:38:43.916]  INFO 16376 --- [  restartedMain] c.r.a.AmsApplication                     : The following 1 profile is active: "dev"
[2024-10-08 16:38:44.120]  INFO 16376 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
[2024-10-08 16:38:44.120] DEBUG 16376 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Scanning for JPA repositories in packages com.rfiot.ams.
[2024-10-08 16:38:44.125] DEBUG 16376 --- [  restartedMain] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [D:\Dev_Test\ams\target\classes\com\rfiot\ams\book\BookRepository.class]
[2024-10-08 16:38:44.128] DEBUG 16376 --- [  restartedMain] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [D:\Dev_Test\ams\target\classes\com\rfiot\ams\token\TokenRepository.class]
[2024-10-08 16:38:44.129] DEBUG 16376 --- [  restartedMain] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [D:\Dev_Test\ams\target\classes\com\rfiot\ams\user\UserRepository.class]
[2024-10-08 16:38:44.144]  INFO 16376 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 3 JPA repository interfaces.
[2024-10-08 16:38:44.327]  INFO 16376 --- [  restartedMain] o.s.b.w.e.t.TomcatWebServer              : Tomcat initialized with port 9090 (http)
[2024-10-08 16:38:44.328]  INFO 16376 --- [  restartedMain] o.a.c.h.Http11NioProtocol                : Initializing ProtocolHandler ["http-nio-9090"]
[2024-10-08 16:38:44.329]  INFO 16376 --- [  restartedMain] o.a.c.c.StandardService                  : Starting service [Tomcat]
[2024-10-08 16:38:44.329]  INFO 16376 --- [  restartedMain] o.a.c.c.StandardEngine                   : Starting Servlet engine: [Apache Tomcat/10.1.30]
[2024-10-08 16:38:44.348]  INFO 16376 --- [  restartedMain] o.a.c.c.C.[.[.[/]                        : Initializing Spring embedded WebApplicationContext
[2024-10-08 16:38:44.349]  INFO 16376 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 432 ms
[2024-10-08 16:38:44.431]  INFO 16376 --- [  restartedMain] o.h.j.i.u.LogHelper                      : HHH000204: Processing PersistenceUnitInfo [name: default]
[2024-10-08 16:38:44.434]  INFO 16376 --- [  restartedMain] o.h.c.i.RegionFactoryInitiator           : HHH000026: Second-level cache disabled
[2024-10-08 16:38:44.447]  INFO 16376 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
[2024-10-08 16:38:44.448]  INFO 16376 --- [  restartedMain] c.z.h.HikariDataSource                   : HikariPool-3 - Starting...
[2024-10-08 16:38:44.610]  INFO 16376 --- [  restartedMain] c.z.h.p.HikariPool                       : HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@3c16c1f1
[2024-10-08 16:38:44.611]  INFO 16376 --- [  restartedMain] c.z.h.HikariDataSource                   : HikariPool-3 - Start completed.
[2024-10-08 16:38:44.669]  INFO 16376 --- [  restartedMain] p6spy                                    : #1728373124669 | took 8ms | statement | connection 9| url jdbc:postgresql://localhost:5432/amsdb
select * from information_schema.sequences
select * from information_schema.sequences;
[2024-10-08 16:38:44.799]  INFO 16376 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
[2024-10-08 16:38:44.801]  INFO 16376 --- [  restartedMain] p6spy                                    : #1728373124801 | took 1ms | statement | connection 10| url jdbc:postgresql://localhost:5432/amsdb
select * from information_schema.sequences
select * from information_schema.sequences;
[2024-10-08 16:38:44.842]  INFO 16376 --- [  restartedMain] p6spy                                    : #1728373124842 | took 2ms | statement | connection 10| url jdbc:postgresql://localhost:5432/amsdb
select * from "public"."_user" where 1=0
select * from "public"."_user" where 1=0;
[2024-10-08 16:38:44.846]  INFO 16376 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
[2024-10-08 16:38:44.895] DEBUG 16376 --- [  restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
[2024-10-08 16:38:44.897] DEBUG 16376 --- [  restartedMain] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
[2024-10-08 16:38:44.927] DEBUG 16376 --- [  restartedMain] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.rfiot.ams.user.UserRepository…
[2024-10-08 16:38:44.932] DEBUG 16376 --- [  restartedMain] o.s.d.j.r.q.NamedQuery                   : Looking up named query User.findByEmail
[2024-10-08 16:38:44.933] DEBUG 16376 --- [  restartedMain] o.s.d.j.r.q.NamedQuery                   : Did not find named query User.findByEmail
[2024-10-08 16:38:44.937] DEBUG 16376 --- [  restartedMain] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.rfiot.ams.user.UserRepository.
[2024-10-08 16:38:44.967] DEBUG 16376 --- [  restartedMain] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.rfiot.ams.token.TokenRepository…
[2024-10-08 16:38:44.976] DEBUG 16376 --- [  restartedMain] o.s.d.j.r.q.NamedQuery                   : Did not find named query Token.findAllValidTokenByUser.count
[2024-10-08 16:38:44.985] DEBUG 16376 --- [  restartedMain] o.s.d.j.r.q.NamedQuery                   : Looking up named query Token.findByToken
[2024-10-08 16:38:44.986] DEBUG 16376 --- [  restartedMain] o.s.d.j.r.q.NamedQuery                   : Did not find named query Token.findByToken
[2024-10-08 16:38:44.991] DEBUG 16376 --- [  restartedMain] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.rfiot.ams.token.TokenRepository.
[2024-10-08 16:38:45.088]  INFO 16376 --- [  restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
[2024-10-08 16:38:45.089]  WARN 16376 --- [  restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
[2024-10-08 16:38:45.104] DEBUG 16376 --- [  restartedMain] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.rfiot.ams.book.BookRepository…
[2024-10-08 16:38:45.111] DEBUG 16376 --- [  restartedMain] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.rfiot.ams.book.BookRepository.
[2024-10-08 16:38:45.255] DEBUG 16376 --- [  restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 19 mappings in 'requestMappingHandlerMapping'
[2024-10-08 16:38:45.328] DEBUG 16376 --- [  restartedMain] o.s.w.s.h.SimpleUrlHandlerMapping        : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
[2024-10-08 16:38:45.384] DEBUG 16376 --- [  restartedMain] o.s.s.w.DefaultSecurityFilterChain       : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
[2024-10-08 16:38:45.503] DEBUG 16376 --- [  restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
[2024-10-08 16:38:45.521] DEBUG 16376 --- [  restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
[2024-10-08 16:38:45.716]  INFO 16376 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
[2024-10-08 16:38:45.731]  INFO 16376 --- [  restartedMain] o.a.c.h.Http11NioProtocol                : Starting ProtocolHandler ["http-nio-9090"]
[2024-10-08 16:38:45.735]  INFO 16376 --- [  restartedMain] o.s.b.w.e.t.TomcatWebServer              : Tomcat started on port 9090 (http) with context path '/'
[2024-10-08 16:38:45.742]  INFO 16376 --- [  restartedMain] c.r.a.AmsApplication                     : Started AmsApplication in 1.872 seconds (process running for 36.705)
[2024-10-08 16:38:45.831]  INFO 16376 --- [  restartedMain] p6spy                                    : [statement] | 0 ms | 
    select
        nextval('_user_seq')
[2024-10-08 16:38:45.833]  INFO 16376 --- [  restartedMain] p6spy                                    : [statement] | 0 ms | 
    insert       
    into
        _user
        (email, firstname, lastname, password, role, id)       
    values
        ('admin@mail.com', 'Admin', 'Admin', '$2a$10$8ox5uZ6w/hhp6/Kdn2K0gOfUy6uN6omiK5ATbc9XLNv9z6biT2NZu', 'ADMIN', 52)
[2024-10-08 16:38:45.836]  INFO 16376 --- [  restartedMain] p6spy                                    : [commit] | 2 ms | 
[2024-10-08 16:38:45.839]  INFO 16376 --- [  restartedMain] p6spy                                    : [statement] | 0 ms | 
    select
        nextval('token_seq')
[2024-10-08 16:38:45.842]  INFO 16376 --- [  restartedMain] p6spy                                    : [statement] | 1 ms | 
    insert       
    into
        token
        (expired, revoked, token, token_type, user_id, id)       
    values
        (false, false, 'eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbkBtYWlsLmNvbSIsImlhdCI6MTcyODM3MzEyNSwiZXhwIjoxNzI4NDU5NTI1fQ.l4opzfWG7EBiCXwntK6xYe1sCEuk7fdns1KBel3z7Pw', 'BEARER', 52, 52)
[2024-10-08 16:38:45.843]  INFO 16376 --- [  restartedMain] p6spy                                    : [commit] | 0 ms | 
[2024-10-08 16:38:45.926]  INFO 16376 --- [  restartedMain] p6spy                                    : [statement] | 0 ms | 
    insert       
    into
        _user
        (email, firstname, lastname, password, role, id)       
    values
        ('manager@mail.com', 'Admin', 'Admin', '$2a$10$78IustOeA6t2f4qO1rf57.jwUYGSoQELI9zbKljq3QMovqZ45/aGC', 'MANAGER', 53)
[2024-10-08 16:38:45.928]  INFO 16376 --- [  restartedMain] p6spy                                    : [commit] | 1 ms | 
[2024-10-08 16:38:45.931]  INFO 16376 --- [  restartedMain] p6spy                                    : [statement] | 0 ms | 
    insert       
    into
        token
        (expired, revoked, token, token_type, user_id, id)       
    values
        (false, false, 'eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtYW5hZ2VyQG1haWwuY29tIiwiaWF0IjoxNzI4MzczMTI1LCJleHAiOjE3Mjg0NTk1MjV9.eT-DMUCiFvumwzeABJnrZoexy-hh0lcxgd0ekq6Tu5g', 'BEARER', 53, 53)
[2024-10-08 16:38:45.932]  INFO 16376 --- [  restartedMain] p6spy                                    : [commit] | 0 ms | 
[2024-10-08 16:38:45.935]  INFO 16376 --- [  restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
[2024-10-08 16:38:51.507]  INFO 16376 --- [nio-9090-exec-1] o.a.c.c.C.[.[.[/]                        : Initializing Spring DispatcherServlet 'dispatcherServlet'
[2024-10-08 16:38:51.508]  INFO 16376 --- [nio-9090-exec-1] o.s.w.s.DispatcherServlet                : Initializing Servlet 'dispatcherServlet'
[2024-10-08 16:38:51.508] DEBUG 16376 --- [nio-9090-exec-1] o.s.w.s.DispatcherServlet                : Detected StandardServletMultipartResolver
[2024-10-08 16:38:51.508] DEBUG 16376 --- [nio-9090-exec-1] o.s.w.s.DispatcherServlet                : Detected AcceptHeaderLocaleResolver
[2024-10-08 16:38:51.508] DEBUG 16376 --- [nio-9090-exec-1] o.s.w.s.DispatcherServlet                : Detected FixedThemeResolver
[2024-10-08 16:38:51.509] DEBUG 16376 --- [nio-9090-exec-1] o.s.w.s.DispatcherServlet                : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@9f9936e
[2024-10-08 16:38:51.509] DEBUG 16376 --- [nio-9090-exec-1] o.s.w.s.DispatcherServlet                : Detected org.springframework.web.servlet.support.SessionFlashMapManager@36e252f7
[2024-10-08 16:38:51.509] DEBUG 16376 --- [nio-9090-exec-1] o.s.w.s.DispatcherServlet                : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
[2024-10-08 16:38:51.509]  INFO 16376 --- [nio-9090-exec-1] o.s.w.s.DispatcherServlet                : Completed initialization in 1 ms
[2024-10-08 16:38:51.525] DEBUG 16376 --- [nio-9090-exec-1] o.s.s.w.FilterChainProxy                 : Securing GET /swagger-ui/index.html
[2024-10-08 16:38:51.532] DEBUG 16376 --- [nio-9090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
[2024-10-08 16:38:51.534] DEBUG 16376 --- [nio-9090-exec-1] o.s.s.w.FilterChainProxy                 : Secured GET /swagger-ui/index.html
[2024-10-08 16:38:51.536] DEBUG 16376 --- [nio-9090-exec-1] o.s.w.s.DispatcherServlet                : GET "/swagger-ui/index.html", parameters={}
[2024-10-08 16:38:51.539] DEBUG 16376 --- [nio-9090-exec-1] o.s.w.s.h.SimpleUrlHandlerMapping        : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
[2024-10-08 16:38:51.546] DEBUG 16376 --- [nio-9090-exec-1] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
[2024-10-08 16:38:51.550] DEBUG 16376 --- [nio-9090-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.rfiot.ams.common.exception.AppWideExceptionHandler#handleException(Exception)
[2024-10-08 16:38:51.565] DEBUG 16376 --- [nio-9090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json;q=0.8', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [application/json, application/*+json]
[2024-10-08 16:38:51.566] DEBUG 16376 --- [nio-9090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ErrorResponse(code=500, message=Error, data=No static resource swagger-ui/index.html.)]
[2024-10-08 16:38:51.570]  WARN 16376 --- [nio-9090-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource swagger-ui/index.html.]
[2024-10-08 16:38:51.571] DEBUG 16376 --- [nio-9090-exec-1] o.s.w.s.DispatcherServlet                : Completed 500 INTERNAL_SERVER_ERROR
[2024-10-08 16:38:51.596] DEBUG 16376 --- [nio-9090-exec-2] o.s.s.w.FilterChainProxy                 : Securing GET /favicon.ico
[2024-10-08 16:38:51.597] DEBUG 16376 --- [nio-9090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
[2024-10-08 16:38:51.598] DEBUG 16376 --- [nio-9090-exec-2] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
[2024-10-08 16:38:51.605] DEBUG 16376 --- [nio-9090-exec-2] o.s.s.w.FilterChainProxy                 : Securing GET /error
[2024-10-08 16:38:51.605] DEBUG 16376 --- [nio-9090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
[2024-10-08 16:38:51.605] DEBUG 16376 --- [nio-9090-exec-2] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
